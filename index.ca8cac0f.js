!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire8bbc;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var u=Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u}).register=function(e,t){r[e]=t},t.parcelRequire8bbc=o);var u=o.register;u("5nzgT",function(t,n){e(t.exports,"Chatroom",function(){return s});var r=o("i7mVp"),u=o("juqrk"),i=o("bNI6E"),a=o("4tSb9"),s=function(){function e(t,n){(0,u._)(this,e),this.room=t,this.username=n,this.chats=db.collection("chats"),this.unsubscribe}return(0,i._)(e,[{key:"addChat",value:function(e){var t=this;return(0,r._)(function(){var n,r;return(0,a.__generator)(this,function(o){switch(o.label){case 0:return n=new Date,r={message:e,username:t.username,room:t.room,created_at:firebase.firestore.Timestamp.fromDate(n)},[4,t.chats.add(r)];case 1:return[2,o.sent()]}})})()}},{key:"getChats",value:function(e){this.unsubscribe=this.chats.where("room","==",this.room).orderBy("created_at").onSnapshot(function(t){t.docChanges().forEach(function(t){"added"===t.type&&e(t.doc.data())})})}},{key:"updateName",value:function(e){this.username=e,localStorage.setItem("username",e)}},{key:"updateRoom",value:function(e){this.room=e,console.log("room updated!"),this.unsubscribe&&this.unsubscribe()}}]),e}()}),u("i7mVp",function(t,n){function r(e,t,n,r,o,u,i){try{var a=e[u](i),s=a.value}catch(e){n(e);return}a.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,u){var i=e.apply(t,n);function a(e){r(i,o,u,a,s,"next",e)}function s(e){r(i,o,u,a,s,"throw",e)}a(void 0)})}}e(t.exports,"_",function(){return o})}),u("4tSb9",function(t,n){function r(e,t){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(s){return function(a){if(n)throw TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}e(t.exports,"__generator",function(){return r}),o("6aBn7"),"function"==typeof SuppressedError&&SuppressedError}),u("6aBn7",function(t,n){e(t.exports,"_",function(){return r});function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}}),o("5nzgT")}();
//# sourceMappingURL=index.ca8cac0f.js.map
